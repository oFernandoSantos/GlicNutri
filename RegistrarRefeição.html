<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registrar Refeição</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="GlicNutri2.png" type="image/png" />
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const darkMode = localStorage.getItem("darkMode") === "true";
      document.body.classList.toggle("dark", darkMode);
    });
  </script>
</head>
<body>
  <header class="header-voltar">
  <a href="glicnutri.html" class="btn-voltar-header" title="Voltar">
    <
  </a>
    <h1>Registrar Refeição</h1>
  </header>

  <main>
    <div class="form-container">
  <h2>Descreva sua Refeição</h2>

  <div class="form-field">
    <textarea id="refeicao" placeholder=" " rows="4" required></textarea>
    <label for="refeicao">Ex: arroz, feijão, frango grelhado...</label>
  </div>

  <div class="form-field">
    <textarea id="quantidade" placeholder=" " rows="3" required></textarea>
    <label for="quantidade">Ex: 300g</label>
  </div>

  <button onclick="salvarRefeicao()">Salvar</button>
  <div id="lista-refeicoes" style="margin-top:1em;"></div>
</div>
  </main>

  <div class="nav-buttons">
    <a href="glicnutri.html"><button>Voltar ao Menu</button></a>
  </div>
  <br>

  <footer>
     <p>&copy; 2025 GlicNutri • Todos os direitos reservados</p>
  </footer>

  <script>
    function salvarRefeicao() {
      const descricao = document.getElementById("refeicao").value.trim();
      const quantidade = document.getElementById("quantidade").value.trim();

      if (!descricao || !quantidade) {
        alert("Por favor, preencha todos os campos.");
        return;
      }

      const refeicoes = JSON.parse(localStorage.getItem("refeicoes")) || [];

      refeicoes.push({
        tipo: "Refeição",
        descricao: `${descricao} (${quantidade})`,
        data: new Date().toLocaleString()
      });

      localStorage.setItem("refeicoes", JSON.stringify(refeicoes));

      alert("Refeição registrada com sucesso!");
      document.getElementById("refeicao").value = "";
      document.getElementById("quantidade").value = "";
    }
  </script>
</body>
</html>
